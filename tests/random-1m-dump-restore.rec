––– input –––
searchd
––– output –––
Manticore #!/[0-9]\.[0-9]\.[0-9]/!# #!/[a-z0-9]{9}@[0-9]{6}/!# dev (columnar #!/[0-9]\.[0-9]\.[0-9]/!# #!/[a-z0-9]{7}@[0-9]{6}/!#) (secondary #!/[0-9]\.[0-9]\.[0-9]/!# #!/[a-z0-9]{7}@[0-9]{6}/!#)
Copyright (c) 2001-2016, Andrew Aksyonoff
Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)
Copyright (c) 2017-#!/[0-9]{4}/!#, Manticore Software LTD (https://manticoresearch.com)
[#!/[0-9]{2}:[0-9]{2}.[0-9]{3}/!#] [#!/[0-9]+/!#] using config file '/etc/manticoresearch/manticore.conf' (358 chars)...
starting daemon version '#!/[0-9]\.[0-9]\.[0-9]/!# #!/[a-z0-9]{9}@[0-9]{6}/!# dev (columnar #!/[0-9]\.[0-9]\.[0-9]/!# #!/[a-z0-9]{7}@[0-9]{6}/!#) (secondary #!/[0-9]\.[0-9]\.[0-9]/!# #!/[a-z0-9]{7}@[0-9]{6}/!#)' ...
listening on all interfaces for mysql, port=9306
listening on UNIX socket /var/run/mysqld/mysqld.sock
listening on #!/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:9312|all interfaces/!# for sphinx and http(s)
listening on all interfaces for sphinx and http(s), port=9308
––– input –––
./tests/scripts/generate-1m-records.sh
––– output –––
........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
––– input –––
mysqldump -h0 -P9306 --all-databases > /tmp/all-databases.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e 'show tables'
––– output –––
+-------+------+
| Index | Type |
+-------+------+
| t     | rt   |
+-------+------+
––– input –––
mysql -h0 -P9306 -e 'select count(*) from t'
––– output –––
+----------+
| count(*) |
+----------+
|   900000 |
+----------+
––– input –––
mysql -h0 -P9306 -e "select * from t order by id asc limit 20"
––– output –––
+------+------------+-------+----------+------+-------------------------------+-------------------+
| id   | f          | a     | b        | s    | j                             | m                 |
+------+------------+-------+----------+------+-------------------------------+-------------------+
|    1 | aaaaaaaaaa | 13318 | 1.319000 | ace  | {"a":[13320,13321],"b":13322} | 13323,13324,13325 |
|    2 | aaaaaaaaaa | 13332 | 1.333000 | oqs  | {"a":[13334,13335],"b":13336} | 13337,13338,13339 |
|    3 | aaaaaaaaaa | 13346 | 1.347000 | ceg  | {"a":[13348,13349],"b":13350} | 13351,13352,13353 |
|    4 | aaaaaaaaaa | 13360 | 1.361000 | qsu  | {"a":[13362,13363],"b":13364} | 13365,13366,13367 |
|    5 | aaaaaaaaaa | 13374 | 1.375000 | egi  | {"a":[13376,13377],"b":13378} | 13379,13380,13381 |
|    6 | aaaaaaaaaa | 13388 | 1.389000 | suw  | {"a":[13390,13391],"b":13392} | 13393,13394,13395 |
|    7 | aaaaaaaaaa | 13402 | 1.403000 | gik  | {"a":[13404,13405],"b":13406} | 13407,13408,13409 |
|    8 | aaaaaaaaaa | 13416 | 1.417000 | uwy  | {"a":[13418,13419],"b":13420} | 13421,13422,13423 |
|    9 | aaaaaaaaaa | 13430 | 1.431000 | ikm  | {"a":[13432,13433],"b":13434} | 13435,13436,13437 |
|   10 | aaaaaaaaaa | 13444 | 1.445000 | wya  | {"a":[13446,13447],"b":13448} | 13449,13450,13451 |
|   11 | aaaaaaaaaa | 13458 | 1.459000 | kmo  | {"a":[13460,13461],"b":13462} | 13463,13464,13465 |
|   12 | aaaaaaaaaa | 13472 | 1.473000 | yac  | {"a":[13474,13475],"b":13476} | 13477,13478,13479 |
|   13 | aaaaaaaaaa | 13486 | 1.487000 | moq  | {"a":[13488,13489],"b":13490} | 13491,13492,13493 |
|   14 | aaaaaaaaaa | 13500 | 1.501000 | ace  | {"a":[13502,13503],"b":13504} | 13505,13506,13507 |
|   15 | aaaaaaaaaa | 13514 | 1.515000 | oqs  | {"a":[13516,13517],"b":13518} | 13519,13520,13521 |
|   16 | aaaaaaaaaa | 13528 | 1.529000 | ceg  | {"a":[13530,13531],"b":13532} | 13533,13534,13535 |
|   17 | aaaaaaaaaa | 13542 | 1.543000 | qsu  | {"a":[13544,13545],"b":13546} | 13547,13548,13549 |
|   18 | aaaaaaaaaa | 13556 | 1.557000 | egi  | {"a":[13558,13559],"b":13560} | 13561,13562,13563 |
|   19 | aaaaaaaaaa | 13570 | 1.571000 | suw  | {"a":[13572,13573],"b":13574} | 13575,13576,13577 |
|   20 | aaaaaaaaaa | 13584 | 1.585000 | gik  | {"a":[13586,13587],"b":13588} | 13589,13590,13591 |
+------+------------+-------+----------+------+-------------------------------+-------------------+
––– input –––
mysql -h0 -P9306 -e "select * from t where s = 'Psm' order by id asc limit 20"
––– output –––
––– input –––
mysql -h0 -P9306 -e "select * from t where a = 18530 order by id asc limit 20"
––– output –––
+--------+------------+-------+----------+------+-------------------------------+-------------------+
| id     | f          | a     | b        | s    | j                             | m                 |
+--------+------------+-------+----------+------+-------------------------------+-------------------+
|   7395 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  23779 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  40163 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  56547 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  72931 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  89315 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 105699 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 122083 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 138467 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 154851 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 171235 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 187619 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 204003 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 220387 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 236771 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 253155 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 269539 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 285923 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 302307 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 318691 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
+--------+------------+-------+----------+------+-------------------------------+-------------------+
––– input –––
mysql -h0 -P9306 -e 'drop table t'
––– output –––
––– input –––
mysql -h0 -P9306 < /tmp/all-databases.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e 'show tables'
––– output –––
+-------+------+
| Index | Type |
+-------+------+
| t     | rt   |
+-------+------+
––– input –––
mysql -h0 -P9306 -e 'select count(*) from t'
––– output –––
+----------+
| count(*) |
+----------+
|   900000 |
+----------+
––– input –––
mysql -h0 -P9306 -e "select * from t order by id asc limit 20"
––– output –––
+------+------------+-------+----------+------+-------------------------------+-------------------+
| id   | f          | a     | b        | s    | j                             | m                 |
+------+------------+-------+----------+------+-------------------------------+-------------------+
|    1 | aaaaaaaaaa | 13318 | 1.319000 | ace  | {"a":[13320,13321],"b":13322} | 13323,13324,13325 |
|    2 | aaaaaaaaaa | 13332 | 1.333000 | oqs  | {"a":[13334,13335],"b":13336} | 13337,13338,13339 |
|    3 | aaaaaaaaaa | 13346 | 1.347000 | ceg  | {"a":[13348,13349],"b":13350} | 13351,13352,13353 |
|    4 | aaaaaaaaaa | 13360 | 1.361000 | qsu  | {"a":[13362,13363],"b":13364} | 13365,13366,13367 |
|    5 | aaaaaaaaaa | 13374 | 1.375000 | egi  | {"a":[13376,13377],"b":13378} | 13379,13380,13381 |
|    6 | aaaaaaaaaa | 13388 | 1.389000 | suw  | {"a":[13390,13391],"b":13392} | 13393,13394,13395 |
|    7 | aaaaaaaaaa | 13402 | 1.403000 | gik  | {"a":[13404,13405],"b":13406} | 13407,13408,13409 |
|    8 | aaaaaaaaaa | 13416 | 1.417000 | uwy  | {"a":[13418,13419],"b":13420} | 13421,13422,13423 |
|    9 | aaaaaaaaaa | 13430 | 1.431000 | ikm  | {"a":[13432,13433],"b":13434} | 13435,13436,13437 |
|   10 | aaaaaaaaaa | 13444 | 1.445000 | wya  | {"a":[13446,13447],"b":13448} | 13449,13450,13451 |
|   11 | aaaaaaaaaa | 13458 | 1.459000 | kmo  | {"a":[13460,13461],"b":13462} | 13463,13464,13465 |
|   12 | aaaaaaaaaa | 13472 | 1.473000 | yac  | {"a":[13474,13475],"b":13476} | 13477,13478,13479 |
|   13 | aaaaaaaaaa | 13486 | 1.487000 | moq  | {"a":[13488,13489],"b":13490} | 13491,13492,13493 |
|   14 | aaaaaaaaaa | 13500 | 1.501000 | ace  | {"a":[13502,13503],"b":13504} | 13505,13506,13507 |
|   15 | aaaaaaaaaa | 13514 | 1.515000 | oqs  | {"a":[13516,13517],"b":13518} | 13519,13520,13521 |
|   16 | aaaaaaaaaa | 13528 | 1.529000 | ceg  | {"a":[13530,13531],"b":13532} | 13533,13534,13535 |
|   17 | aaaaaaaaaa | 13542 | 1.543000 | qsu  | {"a":[13544,13545],"b":13546} | 13547,13548,13549 |
|   18 | aaaaaaaaaa | 13556 | 1.557000 | egi  | {"a":[13558,13559],"b":13560} | 13561,13562,13563 |
|   19 | aaaaaaaaaa | 13570 | 1.571000 | suw  | {"a":[13572,13573],"b":13574} | 13575,13576,13577 |
|   20 | aaaaaaaaaa | 13584 | 1.585000 | gik  | {"a":[13586,13587],"b":13588} | 13589,13590,13591 |
+------+------------+-------+----------+------+-------------------------------+-------------------+
––– input –––
mysql -h0 -P9306 -e "select * from t where s = 'Psm' order by id asc limit 20"
––– output –––
––– input –––
mysql -h0 -P9306 -e "select * from t where a = 18530 order by id asc limit 20"
––– output –––
+--------+------------+-------+----------+------+-------------------------------+-------------------+
| id     | f          | a     | b        | s    | j                             | m                 |
+--------+------------+-------+----------+------+-------------------------------+-------------------+
|   7395 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  23779 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  40163 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  56547 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  72931 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
|  89315 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 105699 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 122083 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 138467 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 154851 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 171235 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 187619 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 204003 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 220387 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 236771 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 253155 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 269539 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 285923 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 302307 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
| 318691 | aaaaaaaaaa | 18530 | 1.531000 | moq  | {"a":[18532,18533],"b":18534} | 18535,18536,18537 |
+--------+------------+-------+----------+------+-------------------------------+-------------------+
