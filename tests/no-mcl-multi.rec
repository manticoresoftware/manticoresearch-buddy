––– block: start-searchd –––
––– input –––
mysql -h0 -P9306 < tests/dumps/no-mcl/multi.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e 'select * from no_mcl_multi limit -1'
––– output –––
––– input –––
mysql -h0 -P9306 < tests/dumps/no-mcl/multi-batch-1.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e 'flush ramchunk no_mcl_multi'
––– output –––
––– input –––
mysql -h0 -P9306 < tests/dumps/no-mcl/multi-batch-2.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e 'flush ramchunk no_mcl_multi'
––– output –––
––– input –––
mysql -h0 -P9306 < tests/dumps/no-mcl/multi-batch-3.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e 'flush table no_mcl_multi'
––– output –––
––– input –––
mysql -h0 -P9306 -e 'select * from no_mcl_multi limit 20'
––– output –––
+------+-----------------+
| id   | value           |
+------+-----------------+
|   20 | 96,97,98,99,100 |
|   19 | 91,92,93,94,95  |
|    9 | 41,42,43,44,45  |
|    1 | 1,2,3,4,5       |
|    2 | 6,7,8,9,10      |
|   10 | 46,47,48,49,50  |
|    3 | 11,12,13,14,15  |
|   11 | 51,52,53,54,55  |
|    4 | 16,17,18,19,20  |
|   12 | 56,57,58,59,60  |
|   13 | 61,62,63,64,65  |
|    5 | 21,22,23,24,25  |
|   14 | 66,67,68,69,70  |
|    6 | 26,27,28,29,30  |
|   15 | 71,72,73,74,75  |
|    7 | 31,32,33,34,35  |
|   16 | 76,77,78,79,80  |
|    8 | 36,37,38,39,40  |
|   17 | 81,82,83,84,85  |
|   18 | 86,87,88,89,90  |
+------+-----------------+
––– input –––
mysql -h0 -P9306 -e 'select * from no_mcl_multi limit -1'
––– output –––
+------+-----------------+
| id   | value           |
+------+-----------------+
|    9 | 41,42,43,44,45  |
|   10 | 46,47,48,49,50  |
|   11 | 51,52,53,54,55  |
|   12 | 56,57,58,59,60  |
|   13 | 61,62,63,64,65  |
|   14 | 66,67,68,69,70  |
|   15 | 71,72,73,74,75  |
|   16 | 76,77,78,79,80  |
|   17 | 81,82,83,84,85  |
|   18 | 86,87,88,89,90  |
|    1 | 1,2,3,4,5       |
|    2 | 6,7,8,9,10      |
|    3 | 11,12,13,14,15  |
|    4 | 16,17,18,19,20  |
|    5 | 21,22,23,24,25  |
|    6 | 26,27,28,29,30  |
|    7 | 31,32,33,34,35  |
|    8 | 36,37,38,39,40  |
|   19 | 91,92,93,94,95  |
|   20 | 96,97,98,99,100 |
+------+-----------------+
––– input –––
mysql -h0 -P9306 -e 'select /*!40001 SQL_NO_CACHE */ * from no_mcl_multi'
––– output –––
+------+-----------------+
| id   | value           |
+------+-----------------+
|    9 | 41,42,43,44,45  |
|   10 | 46,47,48,49,50  |
|   11 | 51,52,53,54,55  |
|   12 | 56,57,58,59,60  |
|   13 | 61,62,63,64,65  |
|   14 | 66,67,68,69,70  |
|   15 | 71,72,73,74,75  |
|   16 | 76,77,78,79,80  |
|   17 | 81,82,83,84,85  |
|   18 | 86,87,88,89,90  |
|    1 | 1,2,3,4,5       |
|    2 | 6,7,8,9,10      |
|    3 | 11,12,13,14,15  |
|    4 | 16,17,18,19,20  |
|    5 | 21,22,23,24,25  |
|    6 | 26,27,28,29,30  |
|    7 | 31,32,33,34,35  |
|    8 | 36,37,38,39,40  |
|   19 | 91,92,93,94,95  |
|   20 | 96,97,98,99,100 |
+------+-----------------+
––– input –––
ls -ltS /var/lib/manticore/no_mcl_multi/
––– output –––
total #!/[0-9]+/!#
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spb
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spb
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spidx
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.meta
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spidx
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.sph
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.sph
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.sphi
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.sphi
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spa
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spa
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.ram
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spt
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spt
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spm
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spm
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.settings
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spd
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spe
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spi
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.0.spp
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spd
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spe
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spi
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.1.spp
-rw-------. 1 root root %{LLFILESIZE} %{LLDATETIME} no_mcl_multi.lock
